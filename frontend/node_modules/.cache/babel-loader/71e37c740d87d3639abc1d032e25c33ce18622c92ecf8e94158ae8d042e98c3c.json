{"ast":null,"code":"const handleAnalyze = async () => {\n  try {\n    const response = await axios.get(\"http://127.0.0.1:8000/realestate/\");\n    const data = Array.isArray(response.data.realestate) ? response.data.realestate : [];\n\n    // Filter by \"final location\"\n    const filtered = data.filter(item => {\n      const location = (item[\"final location\"] || \"\").trim().toLowerCase();\n      const queryNormalized = query.trim().toLowerCase();\n      return location.includes(queryNormalized);\n    });\n    setTableData(filtered);\n\n    // Average price using \"flat - weighted average rate\"\n    const avgPrice = filtered.reduce((sum, item) => sum + Number(item[\"flat - weighted average rate\"] || 0), 0) / (filtered.length || 1);\n    setSummary(`Found ${filtered.length} entries for \"${query}\". Average price: $${avgPrice.toFixed(2)}`);\n\n    // Chart data using year vs flat weighted average rate\n    const years = filtered.map(i => i.year || \"Unknown\");\n    const prices = filtered.map(i => Number(i[\"flat - weighted average rate\"] || 0));\n    setChartData({\n      labels: years,\n      datasets: [{\n        label: \"Price Trend\",\n        data: prices,\n        borderColor: \"blue\",\n        backgroundColor: \"lightblue\"\n      }]\n    });\n  } catch (error) {\n    console.error(error);\n    setSummary(\"Error fetching data from backend.\");\n    setTableData([]);\n    setChartData({});\n  }\n};","map":{"version":3,"names":["handleAnalyze","response","axios","get","data","Array","isArray","realestate","filtered","filter","item","location","trim","toLowerCase","queryNormalized","query","includes","setTableData","avgPrice","reduce","sum","Number","length","setSummary","toFixed","years","map","i","year","prices","setChartData","labels","datasets","label","borderColor","backgroundColor","error","console"],"sources":["C:/Users/kolte/Desktop/SigmaValue/frontend/src/App.js"],"sourcesContent":["const handleAnalyze = async () => {\r\n  try {\r\n    const response = await axios.get(\"http://127.0.0.1:8000/realestate/\");\r\n    const data = Array.isArray(response.data.realestate) ? response.data.realestate : [];\r\n\r\n    // Filter by \"final location\"\r\n    const filtered = data.filter((item) => {\r\n      const location = (item[\"final location\"] || \"\").trim().toLowerCase();\r\n      const queryNormalized = query.trim().toLowerCase();\r\n      return location.includes(queryNormalized);\r\n    });\r\n\r\n    setTableData(filtered);\r\n\r\n    // Average price using \"flat - weighted average rate\"\r\n    const avgPrice =\r\n      filtered.reduce((sum, item) => sum + Number(item[\"flat - weighted average rate\"] || 0), 0) /\r\n      (filtered.length || 1);\r\n\r\n    setSummary(\r\n      `Found ${filtered.length} entries for \"${query}\". Average price: $${avgPrice.toFixed(2)}`\r\n    );\r\n\r\n    // Chart data using year vs flat weighted average rate\r\n    const years = filtered.map((i) => i.year || \"Unknown\");\r\n    const prices = filtered.map((i) => Number(i[\"flat - weighted average rate\"] || 0));\r\n\r\n    setChartData({\r\n      labels: years,\r\n      datasets: [\r\n        {\r\n          label: \"Price Trend\",\r\n          data: prices,\r\n          borderColor: \"blue\",\r\n          backgroundColor: \"lightblue\",\r\n        },\r\n      ],\r\n    });\r\n  } catch (error) {\r\n    console.error(error);\r\n    setSummary(\"Error fetching data from backend.\");\r\n    setTableData([]);\r\n    setChartData({});\r\n  }\r\n};\r\n"],"mappings":"AAAA,MAAMA,aAAa,GAAG,MAAAA,CAAA,KAAY;EAChC,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACC,GAAG,CAAC,mCAAmC,CAAC;IACrE,MAAMC,IAAI,GAAGC,KAAK,CAACC,OAAO,CAACL,QAAQ,CAACG,IAAI,CAACG,UAAU,CAAC,GAAGN,QAAQ,CAACG,IAAI,CAACG,UAAU,GAAG,EAAE;;IAEpF;IACA,MAAMC,QAAQ,GAAGJ,IAAI,CAACK,MAAM,CAAEC,IAAI,IAAK;MACrC,MAAMC,QAAQ,GAAG,CAACD,IAAI,CAAC,gBAAgB,CAAC,IAAI,EAAE,EAAEE,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;MACpE,MAAMC,eAAe,GAAGC,KAAK,CAACH,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;MAClD,OAAOF,QAAQ,CAACK,QAAQ,CAACF,eAAe,CAAC;IAC3C,CAAC,CAAC;IAEFG,YAAY,CAACT,QAAQ,CAAC;;IAEtB;IACA,MAAMU,QAAQ,GACZV,QAAQ,CAACW,MAAM,CAAC,CAACC,GAAG,EAAEV,IAAI,KAAKU,GAAG,GAAGC,MAAM,CAACX,IAAI,CAAC,8BAA8B,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,IACzFF,QAAQ,CAACc,MAAM,IAAI,CAAC,CAAC;IAExBC,UAAU,CACR,SAASf,QAAQ,CAACc,MAAM,iBAAiBP,KAAK,sBAAsBG,QAAQ,CAACM,OAAO,CAAC,CAAC,CAAC,EACzF,CAAC;;IAED;IACA,MAAMC,KAAK,GAAGjB,QAAQ,CAACkB,GAAG,CAAEC,CAAC,IAAKA,CAAC,CAACC,IAAI,IAAI,SAAS,CAAC;IACtD,MAAMC,MAAM,GAAGrB,QAAQ,CAACkB,GAAG,CAAEC,CAAC,IAAKN,MAAM,CAACM,CAAC,CAAC,8BAA8B,CAAC,IAAI,CAAC,CAAC,CAAC;IAElFG,YAAY,CAAC;MACXC,MAAM,EAAEN,KAAK;MACbO,QAAQ,EAAE,CACR;QACEC,KAAK,EAAE,aAAa;QACpB7B,IAAI,EAAEyB,MAAM;QACZK,WAAW,EAAE,MAAM;QACnBC,eAAe,EAAE;MACnB,CAAC;IAEL,CAAC,CAAC;EACJ,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;IACpBb,UAAU,CAAC,mCAAmC,CAAC;IAC/CN,YAAY,CAAC,EAAE,CAAC;IAChBa,YAAY,CAAC,CAAC,CAAC,CAAC;EAClB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}