{"ast":null,"code":"const handleAnalyze = async () => {\n  try {\n    const response = await axios.get(\"http://127.0.0.1:8000/realestate/\");\n    const data = response.data.realestate || []; // ensure it's always an array\n\n    // Filter by area (only if area exists)\n    const filtered = data.filter(item => {\n      if (!item.area) return false; // skip invalid entries\n      if (query === \"\") return true; // show all if no query\n      return item.area.toLowerCase().includes(query.toLowerCase());\n    });\n    setTableData(filtered);\n\n    // Calculate average price safely\n    const avgPrice = filtered.reduce((sum, item) => sum + Number(item.price || 0), 0) / (filtered.length || 1);\n    setSummary(`Found ${filtered.length} entries for \"${query}\". Average price: $${avgPrice.toFixed(2)}`);\n\n    // Prepare chart data\n    const years = filtered.map(item => item.year || \"Unknown\");\n    const prices = filtered.map(item => Number(item.price || 0));\n    setChartData({\n      labels: years,\n      datasets: [{\n        label: \"Price Trend\",\n        data: prices,\n        borderColor: \"blue\",\n        backgroundColor: \"lightblue\"\n      }]\n    });\n  } catch (error) {\n    console.error(error);\n    setSummary(\"Error fetching data from backend.\");\n    setTableData([]);\n    setChartData({});\n  }\n};","map":{"version":3,"names":["handleAnalyze","response","axios","get","data","realestate","filtered","filter","item","area","query","toLowerCase","includes","setTableData","avgPrice","reduce","sum","Number","price","length","setSummary","toFixed","years","map","year","prices","setChartData","labels","datasets","label","borderColor","backgroundColor","error","console"],"sources":["C:/Users/kolte/Desktop/SigmaValue/frontend/src/App.js"],"sourcesContent":["const handleAnalyze = async () => {\r\n  try {\r\n    const response = await axios.get(\"http://127.0.0.1:8000/realestate/\");\r\n    const data = response.data.realestate || []; // ensure it's always an array\r\n\r\n    // Filter by area (only if area exists)\r\n    const filtered = data.filter((item) => {\r\n      if (!item.area) return false; // skip invalid entries\r\n      if (query === \"\") return true; // show all if no query\r\n      return item.area.toLowerCase().includes(query.toLowerCase());\r\n    });\r\n\r\n    setTableData(filtered);\r\n\r\n    // Calculate average price safely\r\n    const avgPrice =\r\n      filtered.reduce((sum, item) => sum + Number(item.price || 0), 0) /\r\n      (filtered.length || 1);\r\n\r\n    setSummary(\r\n      `Found ${filtered.length} entries for \"${query}\". Average price: $${avgPrice.toFixed(\r\n        2\r\n      )}`\r\n    );\r\n\r\n    // Prepare chart data\r\n    const years = filtered.map((item) => item.year || \"Unknown\");\r\n    const prices = filtered.map((item) => Number(item.price || 0));\r\n\r\n    setChartData({\r\n      labels: years,\r\n      datasets: [\r\n        {\r\n          label: \"Price Trend\",\r\n          data: prices,\r\n          borderColor: \"blue\",\r\n          backgroundColor: \"lightblue\",\r\n        },\r\n      ],\r\n    });\r\n  } catch (error) {\r\n    console.error(error);\r\n    setSummary(\"Error fetching data from backend.\");\r\n    setTableData([]);\r\n    setChartData({});\r\n  }\r\n};\r\n"],"mappings":"AAAA,MAAMA,aAAa,GAAG,MAAAA,CAAA,KAAY;EAChC,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACC,GAAG,CAAC,mCAAmC,CAAC;IACrE,MAAMC,IAAI,GAAGH,QAAQ,CAACG,IAAI,CAACC,UAAU,IAAI,EAAE,CAAC,CAAC;;IAE7C;IACA,MAAMC,QAAQ,GAAGF,IAAI,CAACG,MAAM,CAAEC,IAAI,IAAK;MACrC,IAAI,CAACA,IAAI,CAACC,IAAI,EAAE,OAAO,KAAK,CAAC,CAAC;MAC9B,IAAIC,KAAK,KAAK,EAAE,EAAE,OAAO,IAAI,CAAC,CAAC;MAC/B,OAAOF,IAAI,CAACC,IAAI,CAACE,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACF,KAAK,CAACC,WAAW,CAAC,CAAC,CAAC;IAC9D,CAAC,CAAC;IAEFE,YAAY,CAACP,QAAQ,CAAC;;IAEtB;IACA,MAAMQ,QAAQ,GACZR,QAAQ,CAACS,MAAM,CAAC,CAACC,GAAG,EAAER,IAAI,KAAKQ,GAAG,GAAGC,MAAM,CAACT,IAAI,CAACU,KAAK,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,IAC/DZ,QAAQ,CAACa,MAAM,IAAI,CAAC,CAAC;IAExBC,UAAU,CACR,SAASd,QAAQ,CAACa,MAAM,iBAAiBT,KAAK,sBAAsBI,QAAQ,CAACO,OAAO,CAClF,CACF,CAAC,EACH,CAAC;;IAED;IACA,MAAMC,KAAK,GAAGhB,QAAQ,CAACiB,GAAG,CAAEf,IAAI,IAAKA,IAAI,CAACgB,IAAI,IAAI,SAAS,CAAC;IAC5D,MAAMC,MAAM,GAAGnB,QAAQ,CAACiB,GAAG,CAAEf,IAAI,IAAKS,MAAM,CAACT,IAAI,CAACU,KAAK,IAAI,CAAC,CAAC,CAAC;IAE9DQ,YAAY,CAAC;MACXC,MAAM,EAAEL,KAAK;MACbM,QAAQ,EAAE,CACR;QACEC,KAAK,EAAE,aAAa;QACpBzB,IAAI,EAAEqB,MAAM;QACZK,WAAW,EAAE,MAAM;QACnBC,eAAe,EAAE;MACnB,CAAC;IAEL,CAAC,CAAC;EACJ,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;IACpBZ,UAAU,CAAC,mCAAmC,CAAC;IAC/CP,YAAY,CAAC,EAAE,CAAC;IAChBa,YAAY,CAAC,CAAC,CAAC,CAAC;EAClB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}